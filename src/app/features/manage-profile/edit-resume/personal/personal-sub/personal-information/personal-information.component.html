<accordion-main-body
  [accordionName]="'Personal Information'"
  buttonType="edit"
  buttonTitle="Edit"
  [isAccordionOpen]="isOpen()"
  [isFormOpen]="isPersonalFormOpen()"
  (formToggleEmitter)="isPersonalFormOpen.set(!isPersonalFormOpen())"
  (accordionToggleEmitter)="toggle()"
  *transloco="let t"
>
  @if(!isInfoAvailable()){
    <app-no-details
      (openFormBtn)="openPersonalForm()"
      [btnText]="'Something'"
      [description]="
        'If you are a retired army person then you can give that information by clicking on the following button.'
      "
    ></app-no-details>
  } @else {
    <div
      class="my-5"
      [hidden]="isPersonalFormOpen()"
    >
      @if(isLoading()) {
        <div class="flex items-center justify-center py-[50px]">
          <img [src]="'/images/loading.gif'" alt="Loading..." />
        </div>
      }
      @else {
        <div class="sm:px-6 px-3 py-5 flex sm:gap-6 items-center gap-3">
          @if(imgAvailable()){
            <div class="">
              <img [src]="profilePhotoUrl" alt="avatar" class="min-w-[72px] h-[72px] rounded-[50%] sm:w-[96px] sm:h-[96px]" />
            </div>
          }@else {
            <div class="">
              <img [src]="'images/placeholder_img.png'" alt="avatar" class="min-w-[72px] h-[72px] sm:w-[96px] sm:h-[96px]" />
            </div>
          }
        
          <div class="flex flex-col gap-1.5 sm:flex sm:flex-row sm:items-center sm:gap-4">
            <label for="imageUpload"
              class="text-xs sm:text-sm sm:font-semibold font-medium text-[#344054] px-3 py-2 border border-[#D0D5DD] bg-white rounded-lg flex items-center justify-center cursor-pointer">
              {{ imgAvailable() ? "Change Image" : "Upload Image" }}
            </label>
            @if(imgAvailable()){
              <div class="flex items-center sm:gap-4 gap-1.5">
                <span class="text-primary-500 text-sm font-normal">Or</span>
                <span (click)="openDeleteModal()" class="text-[#B32D7D] font-semibold text-sm">Delete</span>
              </div>
            }
            <input type="file" id="imageUpload" accept="image/*" class="hidden" />
            <p class="sm:font-medium sm:text-sm text-[10px] font-normal text-primary-500">
              Upload your Profile image JPG or PNG, 1MB max
            </p>
          </div>
        </div>
        
        <div class="mx-3 sm:mx-6 mb-4 flex flex-col gap-5">
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.first_name')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.accFirstName }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.last_name')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.accLastName }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.fathers_name')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.fName }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.mothers_name')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.mName }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.birth')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.birth | date : "dd-MM-yyyy" }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.gender')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ getGenderLabel() }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.religion')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.relegion }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.marital_status')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ getMaritalStatusLabel() }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.nationality')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.nationality }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.national_id')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.nid }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.passport_number')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.passportNo }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('personal.passport_issue_date')}}
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.passportIssueDate | date : "dd-MM-yyyy" }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium"> {{t('personal.primary_mobile')}}</p>
              <a target="_blank" href="https://mybdjobs.bdjobs.com/mybdjobs/set_userId/mobile_step_01.asp"
                class="text-[#8E2663] font-semibold text-sm">
                <span class="icon-plus mr-1.5"></span>
                 {{t('personal.userIdChange')}}
              </a>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.accPhone }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.secondary_mobile')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.home_Phone }}
              </p>
            </div>
          </div>
        
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            @if(!isBlue) {
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.emergency_contact')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.office_Phone }}
              </p>
            </div>
            }
        
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.primary_email')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.accEmail }}
              </p>
            </div>
          </div>
          @if(!isBlue) {
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.alternate_email')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.e_mail2 }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.blood_group')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.bloodGroup?.toUpperCase() }}
              </p>
            </div>
          </div>
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.height')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.pHeight }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('personal.weight')}}</p>
              <p class="text-[#101828] font-medium text-sm">
                {{ personalInfo?.pWeight }}
              </p>
            </div>
          </div>
          }@else {
          <div class="flex-1 flex flex-col gap-1.5">
            <p class="text-[#667085] text-xs font-medium">{{t('personal.weight')}}</p>
            <p class="text-[#101828] font-medium text-sm">
              {{ personalInfo?.birthPlace }}
            </p>
          </div>
          }
        </div>
      }
    </div>
    <div
      class="my-5"
      [hidden]="!isPersonalFormOpen()"
    >
      <app-personal-details-form
        (onClose)="closePersonalDetailsForm()"
        (onSaveAndClose)="handleAfterSave()"
      ></app-personal-details-form>
    </div>
  }

  @if(isDeleteModalOpen()){
    <div
      class="fixed inset-0 bg-[#101828]/50 flex items-center justify-center z-[9999]"
    >
      <div
        class="bg-white w-[476px] h-[216px] p-10 rounded-lg shadow-md flex flex-col justify-between"
      >
        <p
          class="text-[#101828] text-center font-semibold text-[24px] leading-[32px]"
        >
          Are you sure you want to delete Image?
        </p>
        <div class="flex justify-center gap-6 mt-6">
          <button
            (click)="closeDeleteModal()"
            class="px-4 py-2 text-sm rounded-lg border border-[#E4E7EC] bg-white shadow-sm text-[#101828] hover:bg-gray-100"
          >
            Cancel
          </button>
          <button
            class="px-4 py-2 text-sm rounded-lg bg-[#C63C92] shadow-sm text-white hover:bg-pink-700"
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  }

</accordion-main-body>
