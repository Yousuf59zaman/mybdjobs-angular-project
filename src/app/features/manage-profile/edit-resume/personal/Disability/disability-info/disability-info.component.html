<accordion-main-body
  [accordionName]="'Disability Information'"
  buttonType="edit"
  buttonTitle="Edit"
  [isAccordionOpen]="isOpen()"
  [isFormOpen]="isDisabilityFormOpen()"
  (formToggleEmitter)="isDisabilityFormOpen.set(!isDisabilityFormOpen())"
  (accordionToggleEmitter)="onExpandClick()"
  *transloco="let t"
>
  <div class="my-5" [hidden]="isDisabilityFormOpen()">
    @if(isLoading()) {
      <div class="flex items-center justify-center py-[50px]">
        <img [src]="'/images/loading.gif'" alt="Loading..." />
      </div>
    } @else {
      @if (hasDisability) {
        <div class="mx-3 sm:mx-6 mb-4 flex flex-col gap-5">
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('disability.nationalDisabilityId')}}
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("nationalId")?.value }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('disability.showOnResume')}} </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("showOnResume")?.value == 1 ? "Yes" : "No" }}
              </p>
            </div>
          </div>
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">{{t('disability.difficultyToSee')}} </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("difficultyToSee")?.value }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('disability.difficultyToHear')}}
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("difficultyToHear")?.value }}
              </p>
            </div>
          </div>
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('disability.difficultyToConcentrateOrRemember')}}  
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("difficultyToConcentrateOrRemember")?.value }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('disability.difficultyMobility')}}
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("difficultyMobility")?.value }}
              </p>
            </div>
          </div>
          <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-5">
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('disability.difficultyCommunication')}}
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("difficultyCommunication")?.value }}
              </p>
            </div>
            <div class="flex-1 flex flex-col gap-1.5">
              <p class="text-[#667085] text-xs font-medium">
                {{t('disability.difficultySelfCare')}}
              </p>
              <p class="text-[#101828] font-medium text-sm">
                {{ form.get("difficultySelfCare")?.value }}
              </p>
            </div>
          </div>
        </div>
      }@else {
        <h1 class="text-[#101828] font-normal text-sm">
          {{t('disability.noneSpecified')}}
        </h1>
        <h1 class="text-[#101828] font-medium text-sm">
          {{t('disability.contactSupport')}}
          <span class="text-[#B32D7D] font-bold">{{t('disability.supportLabel')}}</span>
          {{t('disability.contactMethods')}}
        </h1>
      }
    }
  </div>
  <div class="my-5" [hidden]="!isDisabilityFormOpen()">
    <div class="bg-white">
      <div class="sm:mx-6 mx-3 bg-white pb-3 rounded-b-xl">
        <form [formGroup]="form" class="">
          <div class="flex flex-col gap-4">
            <div
              class="sm:flex sm:flex-row sm:items-center sm:gap-8 flex flex-col gap-5"
            >
              <div class="w-full flex-1">
                <p
                  class="block text-sm font-medium text-gray-700 mb-2 pt-1 pb-2"
                >
                  {{t('disability.questionHasDisabilityId')}}<span
                    class="input-error"
                    >*</span
                  >
                </p>
                <div class="flex items-center space-x-8">
                  <div class="flex items-center gap-3">
                    <input
                      class="form-radio text-[#C63C92] border border-[#D0D5DD] scale-90 focus:ring-0"
                      type="radio"
                      formControlName="hasDisability"
                      [value]="true"
                      (click)="
                        isNationalDisabilityIdNumberAvailableChange('yes')
                      "
                    />
                    <label>{{t('disability.yes')}}</label>
                  </div>
                  <div class="flex items-center gap-3">
                    <input
                      class="form-radio text-[#C63C92] border border-[#D0D5DD] scale-90 focus:ring-0"
                      type="radio"
                      formControlName="hasDisability"
                      [value]="false"
                      (click)="
                        isNationalDisabilityIdNumberAvailableChange('no')
                      "
                    />
                    <label>{{t('disability.no')}}</label>
                  </div>
                </div>
              </div>
            </div>
            @if (form.get('hasDisability')?.value) {
            <div
              class="sm:flex sm:flex-row sm:items-center sm:gap-8 flex flex-col gap-5"
            >
              <div class="w-full flex-1">
                <app-input
                  [control]="nationalIdControl()"
                  [label]="t('disability.nationalIdNumber')"
                  [placeholder]="t('disability.nationalIdPlaceholder')"
                  [minValue]="100000000"
                  [maxValue]="9999999999999999999"
                >
                </app-input>
                @if (nationalIdControl().touched && nationalIdControl().invalid)
                {
                <span class="text-[#D92D20] font-normal text-sm"
                  >{{t('disability.nationalIdError')}}</span
                >
                }
              </div>
              <div class="w-full flex-1">
                <label class="block text-sm font-medium text-gray-700 mb-2 pt-1"
                  >{{t('disability.showOnResumeLabel')}}</label
                >
                <div class="mb-6 -mt-1 flex items-center justify-between py-2">
                  <div class="flex items-center">
                    <button
                      class="rounded-l-lg flex items-center justify-center gap-x-1 px-4 py-2 border-2 border-r-0 border-[#C63C92] w-20"
                      (click)="setResumeVisibilityBtn(true)"
                      [ngClass]="{
                        'bg-[#C63C92] text-white': isShownOnResume,
                        'bg-[#F9FAFB] text-[#C63C92]': !isShownOnResume
                      }"
                    >
                      @if(isShownOnResume){
                      <span><img src="/icons/Checkbox.svg" alt="" /></span>
                      }
                      <span class="">{{t('disability.yes')}}</span>
                    </button>
                    <button
                      class="rounded-r-lg flex items-center justify-center gap-x-1 px-4 py-2 border-2 border-l-0 border-[#C63C92] w-20"
                      (click)="setResumeVisibilityBtn(false)"
                      [ngClass]="{
                        'bg-[#C63C92] text-white': !isShownOnResume,
                        'bg-[#F9FAFB] text-[#C63C92]': isShownOnResume
                      }"
                    >
                      @if(!isShownOnResume){
                      <span><img src="/icons/Checkbox.svg" alt="" /></span>
                      }
                      <span>{{t('disability.no')}}</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="sm:flex sm:flex-row sm:items-center sm:gap-8 flex flex-col gap-5"
            >
              <div class="w-full flex-1">
                <app-selectbox
                  [options]="difficultyToSee"
                  [label]="t('disability.difficultyToSee')"
                  [control]="difficultyToSeeControl()"
                  [isRequired]="true"
                  [placeholder]="t('disability.selectDifficultyToSee')"
                >
                </app-selectbox>
              </div>
              <div class="w-full flex-1">
                <app-selectbox
                  [options]="difficultyToHear"
                  [label]="t('disability.difficultyToHear')"
                  [control]="difficultyToHearControl()"
                  [isRequired]="true"
                  [placeholder]="t('disability.selectDifficultyToHear')"
                >
                </app-selectbox>
              </div>
            </div>
            <div
              class="sm:flex sm:flex-row sm:items-center sm:gap-8 flex flex-col gap-5"
            >
              <div class="w-full flex-1">
                <app-selectbox
                  [options]="difficultyToConcentrateOrRemember"
                  [label]="t('disability.difficultyToConcentrateOrRemember')"
                  [control]="difficultyToConcentrateControl()"
                  [isRequired]="true"
                  [placeholder]="t('disability.selectDifficultyToConcentrate')"
                >
                </app-selectbox>
              </div>
              <div class="w-full flex-1">
                <app-selectbox
                  [options]="difficultyMobility"
                  [label]="t('disability.difficultyMobility')"
                  [control]="difficultyMobilityControl()"
                  [isRequired]="true"
                  [placeholder]="
                    t('disability.selectDifficultyMobility')
                  "
                >
                </app-selectbox>
              </div>
            </div>
            <div
              class="sm:flex sm:flex-row sm:items-center sm:gap-8 flex flex-col gap-5"
            >
              <div class="w-full flex-1">
                <app-selectbox
                  [options]="difficultyCommunication"
                  [label]=" t('disability.difficultyCommunication')"
                  [control]="difficultyCommunicationControl()"
                  [isRequired]="true"
                  [placeholder]=" t('disability.selectDifficultyCommunication')"
                >
                </app-selectbox>
              </div>
              <div class="w-full flex-1">
                <app-selectbox
                  [options]="difficultySelfCare"
                  [label]=" t('disability.difficultySelfCare')"
                  [control]="difficultySelfCareControl()"
                  [isRequired]="true"
                  [placeholder]=" t('disability.selectDifficultySelfCare')"
                >
                </app-selectbox>
              </div>
            </div>
            <div class="mb-3 flex items-center gap-3">
              <button
                (click)="onSubmit()"
                class="flex-1 w-full sm:max-w-fit px-5 py-2.5 rounded-lg shadow-skeuomorphic border border-[#ffffff1f] bg-[#C63C92] text-white text-sm font-semibold"
              >
                {{ t('disability.save')}}
              </button>
              <button
                (click)="closeForm()"
                class="flex-1 w-full sm:max-w-fit px-5 py-2.5 rounded-lg shadow-skeuomorphic border border-[#D0D5D] text-[#344054] text-sm font-semibold"
              >
                {{ t('disability.close')}}
              </button>
            </div>
            }@else {
            <h1 class="text-[#101828] font-medium text-sm">
              {{ t('disability.contactSupport')}}
              <span class="text-[#B32D7D] font-bold"
                >{{ t('disability.supportLabel')}}</span
              >
              {{ t('disability.contactMethods')}}
            </h1>
            <div class="mb-3 flex items-center gap-3">
              <button
                (click)="onSubmit()"
                class="flex-1 w-full sm:max-w-fit px-5 py-2.5 rounded-lg shadow-skeuomorphic border border-[#ffffff1f] bg-[#C63C92] text-white text-sm font-semibold"
              >
                {{ t('disability.save')}}
              </button>
              <button
                class="flex-1 w-full sm:max-w-fit px-5 py-2.5 rounded-lg shadow-skeuomorphic border border-[#D0D5D] text-[#344054] text-sm font-semibold"
              >
                {{ t('disability.close')}}
              </button>
            </div>
            }
          </div>
        </form>
      </div>
    </div>
  </div>
</accordion-main-body>

