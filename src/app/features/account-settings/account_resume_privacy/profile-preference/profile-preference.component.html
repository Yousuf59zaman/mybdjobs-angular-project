<div class="w-full p-4 bg-gray-50 flex flex-col gap-6" *transloco="let t">
  <!-- Card Wrapper -->
  <div class="w-full bg-white rounded-xl shadow-md border border-gray-200">
    <!-- Header -->
    <div class="w-full px-6 py-5 border-b border-gray-200 flex flex-col sm:flex-row sm:justify-between gap-3">
      <div class="flex flex-col gap-2">
        <h2 class="text-2xl font-semibold text-gray-900">{{t('profilePreference.title')}}</h2>
        <p class="text-sm text-gray-500">
        {{t('profilePreference.description')}}
        </p>
      </div>
    </div>

    <div class="w-full p-6 flex flex-col gap-3">
      <div class="w-full bg-white rounded-lg shadow-sm border border-gray-200">
    <div class="flex flex-col lg:flex-row justify-between px-6 py-4 border-b border-gray-200">
      <div class="flex flex-col gap-1">
        <h3 class="text-xl font-medium text-gray-900">{{t('profilePreference.profileVisibility')}}</h3>
        <p class="text-sm text-gray-600">
          {{ t('profilePreference.setVisibility') }}
          <span class="font-semibold">{{ t('profilePreference.public') }}</span>, 
          {{ t('profilePreference.orToRestrict') }}
          <span class="font-semibold">{{ t('profilePreference.private') }}</span> 
          {{ t('profilePreference.or') }} 
          <span class="font-semibold">{{ t('profilePreference.limited') }}</span> 
          {{ t('profilePreference.selectOption') }}
        </p>

      </div>
      <button (click)="toggleProfileVisibility()" class="flex items-center gap-1.5 text-[#C63C92] hover:text-[#A5347B] sm:text-[#344054] sm:hover:text-[#232B38] mt-3 lg:mt-0">
        <span class="icon-edit sm:text-base text-sm sm:font-medium font-semibold"></span>
        <span class="sm:font-medium font-semibold text-sm">{{t('profilePreference.edit')}}</span>
      </button>
    </div>

    <!-- Collapsed View -->
    @if (!isProfileVisibilityExpanded) {
      <div class="p-6 flex flex-col gap-2">
        <div class="flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
            <path d="M8.99903 0.25C12.1747 0.25 14.749 2.82436 14.749 6V7.35742C15.0887 7.41529 15.4031 7.50735 15.7012 7.65918L15.96 7.80371C16.5472 8.16399 17.0253 8.6806 17.3398 9.29785L17.4189 9.46582C17.5893 9.86281 17.667 10.2902 17.7061 10.7686C17.75 11.3064 17.749 11.9722 17.749 12.7998V14.2002C17.749 15.0278 17.75 15.6936 17.7061 16.2314C17.667 16.7098 17.5893 17.1372 17.4189 17.5342L17.3398 17.7021C17.0253 18.3194 16.5472 18.836 15.96 19.1963L15.7012 19.3408C15.257 19.5671 14.777 19.6624 14.2305 19.707C13.6927 19.7509 13.0267 19.75 12.1992 19.75H5.79883C4.97138 19.75 4.30535 19.751 3.76758 19.707C3.28935 19.6679 2.86176 19.5902 2.46485 19.4199L2.29688 19.3408C1.67967 19.0263 1.16299 18.5482 0.802736 17.9609L0.658205 17.7021C0.431932 17.258 0.33665 16.778 0.291994 16.2314C0.248057 15.6936 0.249025 15.0278 0.249025 14.2002V12.7998C0.249025 11.9722 0.248057 11.3064 0.291994 10.7686C0.33665 10.222 0.431932 9.74202 0.658205 9.29785L0.802736 9.03906C1.16299 8.45184 1.67967 7.97371 2.29688 7.65918L2.46485 7.58008C2.7126 7.47378 2.97259 7.40453 3.24903 7.35742V6C3.24903 2.82446 5.82352 0.250159 8.99903 0.25ZM9 11.7559C8.58585 11.7559 8.25011 12.0917 8.25 12.5059V14.5059C8.25 14.9201 8.58579 15.2559 9 15.2559C9.41408 15.2557 9.75 14.92 9.75 14.5059V12.5059C9.7499 12.0918 9.41402 11.756 9 11.7559ZM8.99903 1.75C6.65195 1.75016 4.74903 3.65289 4.74903 6V7.25391C5.06637 7.24967 5.41538 7.25 5.79883 7.25H12.1992C12.5827 7.25 12.9317 7.24967 13.249 7.25391V6C13.249 3.65279 11.3462 1.75 8.99903 1.75Z" fill="#101828"/>
          </svg>
          <div class="flex items-baseline gap-1">
            <span class="text-base font-medium text-gray-900">
              @if (currentVisibility === 1) {
                {{t('profilePreference.public')}}
              } @else if (currentVisibility === 2) {
                {{t('profilePreference.private')}}
              } @else {
                {{t('profilePreference.limited')}}
              }
            </span>
            @if (currentVisibility === 1) {
              <span class="text-xs text-gray-600">{{t('profilePreference.recommended')}}</span>
            }
          </div>
        </div>
        <div class="text-sm text-gray-600">
          @if (currentVisibility === 1) {
            {{t('profilePreference.forPublic')}}
          } @else if (currentVisibility === 2) {
            {{t('profilePreference.forPrivate')}}
          } @else {
            {{t('profilePreference.forLimited1')}} {{t('profilePreference.forLimited2')}}
          }
        </div>
      </div>
    }

    <!-- Expanded View -->
@if (isProfileVisibilityExpanded) {
  <div class="p-6">
    <div class="flex flex-col gap-4">
      <!-- Public Option Radio Button -->
      <label class="flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer w-full">
        <input type="radio" name="visibility" [value]="1" [(ngModel)]="selectedVisibility" (change)="onVisibilityChange(1)" class="h-4 w-4 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
          <path d="M8.99903 0.25C12.1747 0.25 14.749 2.82436 14.749 6V7.35742C15.0887 7.41529 15.4031 7.50735 15.7012 7.65918L15.96 7.80371C16.5472 8.16399 17.0253 8.6806 17.3398 9.29785L17.4189 9.46582C17.5893 9.86281 17.667 10.2902 17.7061 10.7686C17.75 11.3064 17.749 11.9722 17.749 12.7998V14.2002C17.749 15.0278 17.75 15.6936 17.7061 16.2314C17.667 16.7098 17.5893 17.1372 17.4189 17.5342L17.3398 17.7021C17.0253 18.3194 16.5472 18.836 15.96 19.1963L15.7012 19.3408C15.257 19.5671 14.777 19.6624 14.2305 19.707C13.6927 19.7509 13.0267 19.75 12.1992 19.75H5.79883C4.97138 19.75 4.30535 19.751 3.76758 19.707C3.28935 19.6679 2.86176 19.5902 2.46485 19.4199L2.29688 19.3408C1.67967 19.0263 1.16299 18.5482 0.802736 17.9609L0.658205 17.7021C0.431932 17.258 0.33665 16.778 0.291994 16.2314C0.248057 15.6936 0.249025 15.0278 0.249025 14.2002V12.7998C0.249025 11.9722 0.248057 11.3064 0.291994 10.7686C0.33665 10.222 0.431932 9.74202 0.658205 9.29785L0.802736 9.03906C1.16299 8.45184 1.67967 7.97371 2.29688 7.65918L2.46485 7.58008C2.7126 7.47378 2.97259 7.40453 3.24903 7.35742V6C3.24903 2.82446 5.82352 0.250159 8.99903 0.25ZM9 11.7559C8.58585 11.7559 8.25011 12.0917 8.25 12.5059V14.5059C8.25 14.9201 8.58579 15.2559 9 15.2559C9.41408 15.2557 9.75 14.92 9.75 14.5059V12.5059C9.7499 12.0918 9.41402 11.756 9 11.7559ZM8.99903 1.75C6.65195 1.75016 4.74903 3.65289 4.74903 6V7.25391C5.06637 7.24967 5.41538 7.25 5.79883 7.25H12.1992C12.5827 7.25 12.9317 7.24967 13.249 7.25391V6C13.249 3.65279 11.3462 1.75 8.99903 1.75Z" fill="#101828"/>
        </svg>
        <div>
          <div class="font-medium text-gray-900">{{ t('profilePreference.public') }} ({{ t('profilePreference.recommended') }})</div>
          @if (selectedVisibility === 1) {
            <div class="text-sm text-gray-500 mt-1.5">{{ t('profilePreference.forPublic') }}</div>
          }
        </div>
      </label>

      <!-- Private Option Radio Button -->
      <label class="flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer w-full">
        <input type="radio" name="visibility" [value]="2" [(ngModel)]="selectedVisibility" (change)="onVisibilityChange(2)" class="h-4 w-4 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
          <path d="M8.99951 0.25C12.1749 0.250097 14.7495 1.20343 14.7495 4.37891V5.12012C14.7494 5.54441 14.3972 5.88377 13.9731 5.86914C13.5693 5.85519 13.2496 5.5242 13.2495 5.12012V4.62109C13.2495 2.27408 11.3465 1.75007 8.99951 1.75C6.6523 1.75 4.74951 3.65279 4.74951 6V7.25391C5.06681 7.24967 5.41595 7.25 5.79932 7.25H12.2778C12.6306 7.24998 12.9539 7.24996 13.2495 7.25391L14.7495 7.35742C15.0891 7.41531 15.4037 7.50735 15.7017 7.65918L15.9605 7.80371C16.5476 8.164 17.0259 8.68067 17.3403 9.29785L17.4194 9.46582C17.5897 9.86277 17.6675 10.2903 17.7065 10.7686C17.7495 11.2949 17.7495 11.9439 17.7495 12.7471V14.2529C17.7495 15.0561 17.7495 15.7051 17.7065 16.2314C17.6675 16.7097 17.5897 17.1372 17.4194 17.5342L17.3403 17.7021C17.0259 18.3193 16.5476 18.836 15.9605 19.1963L15.7017 19.3408C15.2576 19.5671 14.7774 19.6624 14.231 19.707C13.7046 19.75 13.0548 19.75 12.2515 19.75H5.74658C4.94354 19.75 4.29438 19.75 3.76807 19.707C3.28988 19.668 2.86221 19.5901 2.46533 19.4199L2.29736 19.3408C1.68013 19.0263 1.16352 18.5481 0.803224 17.9609L0.658692 17.7021C0.432382 17.2579 0.337142 16.7781 0.292481 16.2314C0.24948 15.7051 0.249492 15.0561 0.249513 14.2529V12.7471C0.249492 11.9439 0.24948 11.2949 0.292481 10.7686C0.337143 10.222 0.432382 9.74204 0.658692 9.29785L0.803224 9.03906C1.16352 8.45187 1.68013 7.97367 2.29736 7.65918L2.46533 7.58008C2.71305 7.47384 2.97312 7.40451 3.24951 7.35742V6C3.24951 2.82436 5.82388 0.25 8.99951 0.25ZM8.99951 11.7559C8.58536 11.7559 8.24962 12.0917 8.24951 12.5059V14.5059C8.24951 14.9201 8.5853 15.2559 8.99951 15.2559C9.41368 15.2558 9.74951 14.9201 9.74951 14.5059V12.5059C9.74941 12.0917 9.41362 11.7559 8.99951 11.7559Z" fill="#101828"/>
        </svg>
        <div>
          <div class="font-medium text-gray-900">{{ t('profilePreference.private') }}</div>
          @if (selectedVisibility === 2) {
            <div class="text-sm text-gray-500 mt-1.5">{{ t('profilePreference.forPrivate') }}</div>
          }
        </div>
      </label>

      <!-- Limited Option Radio Button -->
      <label class="flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer w-full">
        <input type="radio" name="visibility" [value]="3" [(ngModel)]="selectedVisibility" (change)="onVisibilityChange(3)" class="h-4 w-4 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20" fill="none">
          <path d="M9.00025 0.25C12.1759 0.25 14.7502 2.82436 14.7502 6V7.35742C15.09 7.4153 15.4042 7.50728 15.7024 7.65918L15.9612 7.80371C16.5485 8.16401 17.0265 8.68054 17.3411 9.29785L17.4202 9.46582C17.5905 9.86282 17.6682 10.2902 17.7073 10.7686C17.7512 11.3064 17.7502 11.9722 17.7502 12.7998V13.0986C17.105 12.6526 16.3225 12.3906 15.4788 12.3906C13.2698 12.3908 11.4788 14.1816 11.4788 16.3906C11.4788 17.7962 12.2046 19.0317 13.301 19.7451C12.9701 19.75 12.6046 19.75 12.2004 19.75H5.80005C4.97247 19.75 4.30663 19.751 3.7688 19.707C3.29045 19.6679 2.86306 19.5903 2.46607 19.4199L2.2981 19.3408C1.68079 19.0263 1.16425 18.5482 0.803957 17.9609L0.659426 17.7021C0.43311 17.2579 0.337874 16.7781 0.293215 16.2314C0.249276 15.6936 0.250246 15.0278 0.250246 14.2002V12.7998C0.250246 11.9722 0.249276 11.3064 0.293215 10.7686C0.337874 10.2219 0.43311 9.74205 0.659426 9.29785L0.803957 9.03906C1.16425 8.45177 1.68079 7.97371 2.2981 7.65918L2.46607 7.58008C2.7139 7.47374 2.9737 7.40453 3.25025 7.35742V6C3.25025 2.82436 5.82461 0.250003 9.00025 0.25ZM9.00025 11.7559C8.58623 11.756 8.25035 12.0918 8.25025 12.5059V14.5059C8.25025 14.9201 8.58617 15.2557 9.00025 15.2559C9.41446 15.2559 9.75025 14.9201 9.75025 14.5059V12.5059C9.75014 12.0917 9.41439 11.7559 9.00025 11.7559Z" fill="#101828"/>
          <path d="M13.5557 16.9591L14.9446 18.348L18.0001 15.0146" stroke="#1D1D1D" stroke-linecap="round"/>
        </svg>
        <div>
          <div class="font-medium text-gray-900">{{ t('profilePreference.limited') }}</div>
          @if (selectedVisibility === 3) {
            <div class="text-sm text-gray-500 mt-1.5">{{ t('profilePreference.forLimited1') }} {{ t('profilePreference.forLimited2') }}</div>
          }
        </div>
      </label>

      <!-- Search Section (Visible when Limited is selected) -->
      @if (selectedVisibility === 3) {
        <div class="mt-4 space-y-4">
          <!-- Search Bar -->
          <div class="space-y-1">
            <label class="block text-sm font-medium text-gray-700 mb-1">
              {{ t('profilePreference.searchEmployerLabel') }}
            </label>
            <div class="relative w-1/2">
              <input
                type="text"
                [(ngModel)]="searchQuery"
                (input)="onSearch()"
                placeholder="{{ t('profilePreference.searchEmployerPlaceholder') }}"
                class="w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-[#C63C92] focus:border-[#C63C92] pr-10"
              />
              <span class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M17.5 17.5L13.875 13.875M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z" stroke="#667085" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </span>
            </div>
          </div>
          <!-- Search Results Dropdown -->
          @if (searchResults.length > 0) {
            <div class="border border-gray-200 rounded-lg overflow-hidden">
              <ul class="divide-y divide-gray-200">
                @for (employer of searchResults; track employer.id) {
                  <li class="px-4 py-3 hover:bg-gray-50 cursor-pointer flex justify-between items-center"
                      (click)="selectEmployer(employer)">
                    <span>{{employer.name}}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-[#C63C92]" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" />
                    </svg>
                  </li>
                }
              </ul>
            </div>
          }
          <!-- Selected Employers Chips -->
          @if (selectedEmployers.length > 0) {
            <div class="space-y-2">
              <div class="text-sm font-medium text-gray-700">{{ t('profilePreference.selectedEmployers') }}</div>
              <div class="flex flex-wrap gap-2">
                @for (employer of selectedEmployers; track employer.id) {
                  <div class="inline-flex items-center px-3 py-1.5 rounded-full bg-gray-100 text-sm">
                    <span>{{employer.name}}</span>
                    <button (click)="removeEmployer(employer.id)" class="ml-2 text-gray-500 hover:text-gray-700">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                      </svg>
                    </button>
                  </div>
                }
              </div>
            </div>
          }
        </div>
      }

      <!-- Action Buttons -->
      <div class="flex gap-4 mt-2">
        <button (click)="saveProfileVisibility()"
                class="px-5 py-2.5 bg-[#C63C92] text-white rounded-lg text-sm font-semibold hover:bg-[#A5347B] transition-colors">
          {{t('profilePreference.save')}}
        </button>
        <button (click)="toggleProfileVisibility()"
                class="px-5 py-2.5 bg-white text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-colors border border-gray-300">
          {{ t('profilePreference.close') }}
        </button>
      </div>
    </div>
    </div>
  }

      <!-- Availability Status -->
<div class="w-full bg-white rounded-lg shadow-sm border border-gray-200">
  <!-- Header Section -->
  <div class="flex flex-col lg:flex-row justify-between px-6 py-4 border-b border-gray-200">
    <div class="flex flex-col gap-1">
      <h3 class="text-xl font-medium text-gray-900">{{t('profilePreference.availability')}}</h3>
      <p class="text-sm text-gray-600">
      {{ t('profilePreference.setAvailability') }}
      <span class="font-semibold">{{ t('profilePreference.yes') }}</span> 
      {{ t('profilePreference.toJoinImmediately') }}, 
      <span class="font-semibold">{{ t('profilePreference.no') }}</span> 
      {{ t('profilePreference.ifNotAvailable') }}
    </p>

    </div>
    <button (click)="toggleAvailability()" class="flex items-center gap-1.5 text-[#C63C92] hover:text-[#A5347B] sm:text-[#344054] sm:hover:text-[#232B38] mt-3 lg:mt-0">
      <span class="icon-edit sm:text-base text-sm sm:font-medium font-semibold"></span>
      <span class="sm:font-medium font-semibold text-sm">{{t('profilePreference.edit')}}</span>
    </button>
  </div>

  <!-- Collapsed View -->
  @if (!isAvailabilityExpanded) {
    <div class="p-6 flex flex-col gap-2">
      <div class="flex items-center gap-2">
        @if (currentAvailability === 'yes') {
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="#1F1F1F">
            <path d="M7.95831 15.0003L3.20831 10.2503L4.39581 9.06283L7.95831 12.6253L15.6041 4.97949L16.7916 6.16699L7.95831 15.0003Z"/>
          </svg>
          <div class="flex items-baseline gap-1">
            <span class="text-base font-medium text-gray-900">{{t('profilePreference.yes')}}</span>
          </div>
        } @else {
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M5 5L15 15" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round"/>
            <path d="M15 5L5 15" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <div class="flex items-baseline gap-1">
            <span class="text-base font-medium text-gray-900">{{t('profilePreference.no')}}</span>
          </div>
        }
      </div>
      <div class="text-sm text-gray-600">
        {{ videoResumeVisibility === 'Public' 
      ? t('profilePreference.cvVisibleToAll') 
      : t('profilePreference.cvNotVisible') }}
      </div>
       </div>
  }

  <!-- Expanded View -->
  @if (isAvailabilityExpanded) {
    <div class="p-6">
      <div class="flex flex-col gap-4">
        <!-- Yes Option -->
        <label class="flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer">
          <input type="radio" name="availability" value="yes" 
                 [checked]="currentAvailability === 'yes'"
                 (change)="onAvailabilityChange('yes')"
                 class="h-5 w-5 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer flex-shrink-0 self-center relative top-px">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="#1F1F1F" class="flex-shrink-0 self-center">
            <path d="M7.95831 15.0003L3.20831 10.2503L4.39581 9.06283L7.95831 12.6253L15.6041 4.97949L16.7916 6.16699L7.95831 15.0003Z"/>
          </svg>
          <div>
            <div class="font-medium text-gray-900">{{t('profilePreference.yes')}}</div>
            <div class="text-sm text-black-500 mt-1.5">{{t('profilePreference.forYes')}}</div>
          </div>
        </label>

        <!-- No Option -->
        <label class="flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer">
          <input type="radio" name="availability" value="no" 
                 [checked]="currentAvailability === 'no'"
                 (change)="onAvailabilityChange('no')"
                 class="h-5 w-5 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer flex-shrink-0 self-center relative top-px">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none" class="flex-shrink-0 self-center">
            <path d="M5 5L15 15" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round"/>
            <path d="M15 5L5 15" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <div>
            <div class="font-medium text-gray-900">{{t('profilePreference.no')}}</div>
            <div class="text-sm text-black-500 mt-1.5">{{t('profilePreference.forNo')}}</div>
          </div>
        </label>
      </div>

      <!-- Action Buttons -->
      <div class="flex gap-4 mt-4">
        <button (click)="saveAvailability()"
                class="px-5 py-2.5 bg-[#C63C92] text-white rounded-lg text-sm font-semibold hover:bg-[#A5347B] transition-colors">
          {{t('profilePreference.save')}}
        </button>
        <button (click)="toggleAvailability()"
                class="px-5 py-2.5 bg-white text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-colors border border-gray-300">
          {{t('profilePreference.close')}}
        </button>
      </div>
    </div>
  }
</div>
      <!-- Video Resume Employer Show -->
      <div class="w-full bg-white rounded-lg shadow-sm border border-gray-200">
  <!-- Header Section -->
  <div class="flex flex-col lg:flex-row justify-between px-6 py-4 border-b border-gray-200">
    <div class="flex flex-col gap-1">
      <h3 class="text-xl font-medium text-gray-900"> {{ t('profilePreference.videoCvVisibility') }}</h3>
           <p class="text-sm text-gray-600">
          {{ t('profilePreference.setVisibility') }}
          <span class="font-semibold">{{ t('profilePreference.public') }}</span>, 
          {{ t('profilePreference.orToRestrict') }}
          <span class="font-semibold">{{ t('profilePreference.private') }}</span> 
          {{ t('profilePreference.or') }} 
          <span class="font-semibold">{{ t('profilePreference.limited') }}</span> 
          {{ t('profilePreference.selectOption') }}
        </p>

    </div>
    <button (click)="toggleVideoResume()" class="flex items-center gap-1.5 text-[#C63C92] hover:text-[#A5347B] sm:text-[#344054] sm:hover:text-[#232B38] mt-3 lg:mt-0">
      <span class="icon-edit sm:text-base text-sm sm:font-medium font-semibold"></span>
      <span class="sm:font-medium font-semibold text-sm"> {{ t('profilePreference.edit') }}</span>
    </button>
  </div>

  <!-- Collapsed View -->
  @if (!isVideoResumeExpanded) {
    <div class="p-6 flex flex-col gap-2">
      <div class="flex items-center gap-2">
        @if (videoResumeVisibility === 'Public') {
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1F1F1F" stroke-width="1.5">
            <path d="M3.076 7.482L7.364 10.545c.223.159.335.239.452.257.103.016.208 0 .301-.046.106-.053.188-.163.353-.382l.906-1.208c.047-.062.07-.093.097-.12.024-.024.051-.045.079-.063.032-.021.068-.036.139-.068l3.869-1.719c.16-.071.24-.107.3-.162.054-.05.096-.11.124-.177.031-.076.037-.164.049-.339L14.315 2.269M13.5 13.5l2.616 1.121c.304.13.456.195.536.303.071.095.106.211.098.33-.008.134-.1.271-.283.546l-1.229 1.843c-.087.13-.13.195-.187.242-.051.042-.109.073-.172.092-.072.022-.15.022-.307.022h-1.995c-.207 0-.311 0-.399-.035-.078-.03-.147-.08-.201-.144-.061-.073-.094-.171-.159-.368l-.713-2.138c-.039-.116-.058-.174-.063-.233-.005-.052-.001-.105.01-.156.014-.058.041-.113.096-.222l.541-1.117c.11-.22.165-.33.25-.398.075-.06.165-.098.261-.108.108-.012.225.027.458.105L13.5 13.5zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z"/>
          </svg>
          <div class="flex items-baseline gap-1">
            <span class="text-base font-medium text-gray-900"> {{ t('profilePreference.public') }}</span>
          </div>
        } @else {
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M5 5L15 15" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round"/>
            <path d="M15 5L5 15" stroke="#1F1F1F" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <div class="flex items-baseline gap-1">
            <span class="text-base font-medium text-gray-900"> {{ t('profilePreference.private') }}</span>
          </div>
        }
      </div>
      <div class="text-sm text-gray-600">
         {{ videoResumeVisibility === 'Public' 
      ? t('profilePreference.cvVisibleToAll') 
      : t('profilePreference.cvNotVisible') }}
      </div>
    </div>
  }

  <!-- Expanded View -->
  @if (isVideoResumeExpanded) {
    <div class="p-6">
      <div class="flex flex-col gap-4">
        <!-- Public Option -->
        <label class="flex items-start gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer">
          <div class="flex items-center h-5">
            <input type="radio" name="visibility" value="Public" 
                   [checked]="videoResumeVisibility === 'Public'"
                   (change)="onVideoResumeChange('Public')"
                   class="h-5 w-5 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer">
          </div>
          <div class="flex items-start gap-3 flex-1">
            <div class="mt-0.5">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1F1F1F" stroke-width="1.5">
                <path d="M3.076 7.482L7.364 10.545c.223.159.335.239.452.257.103.016.208 0 .301-.046.106-.053.188-.163.353-.382l.906-1.208c.047-.062.07-.093.097-.12.024-.024.051-.045.079-.063.032-.021.068-.036.139-.068l3.869-1.719c.16-.071.24-.107.3-.162.054-.05.096-.11.124-.177.031-.076.037-.164.049-.339L14.315 2.269M13.5 13.5l2.616 1.121c.304.13.456.195.536.303.071.095.106.211.098.33-.008.134-.1.271-.283.546l-1.229 1.843c-.087.13-.13.195-.187.242-.051.042-.109.073-.172.092-.072.022-.15.022-.307.022h-1.995c-.207 0-.311 0-.399-.035-.078-.03-.147-.08-.201-.144-.061-.073-.094-.171-.159-.368l-.713-2.138c-.039-.116-.058-.174-.063-.233-.005-.052-.001-.105.01-.156.014-.058.041-.113.096-.222l.541-1.117c.11-.22.165-.33.25-.398.075-.06.165-.098.261-.108.108-.012.225.027.458.105L13.5 13.5zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z"/>
              </svg>
            </div>
            <div class="flex-1">
              <div class="font-medium text-gray-900"> {{ t('profilePreference.public') }}</div>
              <div class="text-sm text-black-500 mt-1.5"> {{ t('profilePreference.cvWillBeVisibleToAll') }}</div>
            </div>
          </div>
        </label>

        <!-- Private Option -->
        <label class="flex items-start gap-4 p-4 border border-gray-200 rounded-lg hover:border-[#C63C92] hover:bg-[#FDF2F8] cursor-pointer">
          <div class="flex items-center h-5">
            <input type="radio" name="visibility" value="Private" 
                   [checked]="videoResumeVisibility === 'Private'"
                   (change)="onVideoResumeChange('Private')"
                   class="h-5 w-5 text-[#C63C92] border-gray-300 focus:ring-[#C63C92] cursor-pointer">
          </div>        
          <div class="flex items-start gap-3 flex-1">
            <div class="mt-0.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M17.9998 15.8369C19.4557 16.5683 20.704 17.742 21.6151 19.2096C21.7955 19.5003 21.8857 19.6456 21.9169 19.8468C21.9803 20.2558 21.7006 20.7585 21.3198 20.9204C21.1323 21 20.9215 21 20.4998 21M15.9998 11.5322C17.4816 10.7959 18.4998 9.26686 18.4998 7.5C18.4998 5.73314 17.4816 4.20411 15.9998 3.46776M13.9998 7.5C13.9998 9.98528 11.9851 12 9.49984 12C7.01455 12 4.99984 9.98528 4.99984 7.5C4.99984 5.01472 7.01455 3 9.49984 3C11.9851 3 13.9998 5.01472 13.9998 7.5ZM2.55907 18.9383C4.15337 16.5446 6.66921 15 9.49984 15C12.3305 15 14.8463 16.5446 16.4406 18.9383C16.7899 19.4628 16.9645 19.725 16.9444 20.0599C16.9287 20.3207 16.7578 20.64 16.5494 20.7976C16.2818 21 15.9137 21 15.1775 21H3.82219C3.08601 21 2.71791 21 2.45028 20.7976C2.24189 20.64 2.07092 20.3207 2.05527 20.0599C2.03517 19.725 2.2098 19.4628 2.55907 18.9383Z" stroke="#101828" stroke-width="1.58" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
            </div>
            <div class="flex-1">
              <div class="font-medium text-gray-900"> {{ t('profilePreference.private') }}</div>
              <div class="text-sm text-black-500 mt-1.5"> {{ t('profilePreference.cvWilNotBeVisibleToAll') }}</div>
            </div>
          </div>
        </label>
      </div>

      <!-- Action Buttons -->
      <div class="flex gap-4 mt-6">
        <button (click)="saveVideoResume()"
                class="px-5 py-2.5 bg-[#C63C92] text-white rounded-lg text-sm font-semibold hover:bg-[#A5347B] transition-colors">
          {{t('profilePreference.save')}}
        </button>
        <button (click)="toggleVideoResume()"
                class="px-5 py-2.5 bg-white text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-colors border border-gray-300">
          {{ t('profilePreference.close') }}
        </button>
      </div>
    </div>
  }
</div>
    </div>
  </div>
</div>


