<!-- <half-donut-chart></half-donut-chart> -->
<div>
  <div class="flex items-center sm:justify-start justify-between gap-1.5 relative">
    @for(stat of stats; track $index){
    <div class="relative flex flex-col items-center">
      <button class=" text-sm text-primary-700  font-semibold p-2.5 py-1.5"
        [ngStyle]="{ color: selectedBtn === stat ? '#C63C92' : '' }" (click)="selectedBtn = stat">
        {{ stat }}
      </button>
      @if(selectedBtn === stat){
      <div class="absolute h-0.5 -bottom-[5px] bg-[#C63C92] w-full"></div>
      }

    </div>
    }
  </div>
  <hr class="mt-1 mb-5">
  @if(selectedBtn === 'General Stat'){
  <div class="sm:flex  sm:flex-row sm:items-center sm:justify-between flex flex-col mb-4">
    <p class="title-design">Explore Your Mybdjobs Stat</p>
    <div class="w-full sm:w-[130px]">
      <app-selectbox [label]="''" [isRequired]="false" [options]="selectBoxOptions()" [name]="'filteredOptions'"
        [placeholder]="'Select and options'" [control]="filterControl"></app-selectbox>
    </div>

  </div>
  <div class="sm:flex sm:flex-row sm:items-center flex flex-col gap-4">
    @for(card of statsCards(); track $index){
    <div class="rounded-md flex-1 w-full flex items-center gap-4 py-3"
      [style.borderLeft]="'4px solid '+card.borderColor" [style.backgroundColor]="card.bgColor">
      <img [src]="card.imageUrl" alt="card.imageUrl" class="pl-2.5">
      <div>
        <p class="text-primary-700 text-xs font-medium">{{card.title}}</p>
        <span class="text-primary-900 font-semibold text-lg mr-1.5">{{card.count}}</span>
        <img [src]="card.upgrade > 0 ? 'images/trend-up.svg':'images/trend-down.svg'"
          alt="card.upgrade > 0 ? 'images/trend-up.svg':'images/trend-down.svg'" class="inline-block mr-1.5">
        <span class="text-primary-500 text-xs font-medium">{{card.upgrade > 0 ? card.upgrade: -card.upgrade}}</span>
      </div>
    </div>
    }
  </div>

  <div class="mt-4 w-full">
    <div class="p-6 pr-4 border border-[#E4E7EC] rounded-2xl">
      <p class="title-design mb-4">Application</p>
      <line-chart [labels]="labels">
      </line-chart>
    </div>
  </div>

  <div class="sm:flex sm:flex-row flex flex-col gap-4 sm:items-center sm:justify-between  mt-4 ">
    <div class="flex-1 w-full p-3 md:p-4 border border-[#E4E7EC] rounded-2xl max-h-[220px] ">
      <div class="flex items-center gap-1.5 relative">
        @for(header of donutChartHeader; track $index){
        <div class="relative flex flex-col items-center">
          <button class=" text-xs sm:text-sm text-primary-700  font-semibold p-1.5 sm:p-2.5 py-1.5"
            [ngStyle]="{ color: selectedHeader === header ? '#C63C92' : '' }" (click)="selectedHeader = header">
            {{ header }}
          </button>
          @if(selectedHeader === header){
          <div class="absolute h-0.5 -bottom-[5px] bg-[#C63C92] w-full"></div>
          }

        </div>
        }
      </div>


      <hr class="h-full mt-1 mb-5">
      @if(selectedHeader === 'Profile View'){
      <div class="flex-1 h-full flex items-center gap-4 ">
        <div class=" md:max-w-[128px] max-w-[92px] max-h-[92px] md:max-h-[128px]">
          <donut-chart [data]="profileDonutData" [labels]="ProfileLabel"></donut-chart>

        </div>
        <div class="self-start w-full min-h-full flex flex-col gap-4">
          @for(section of profileView; track $index){
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <div [style.backgroundColor]="section.boxColor" class=" w-2 h-2 rounded-sm"></div>
              <p class="text-primary-900 font-medium text-xs">{{section.title}}</p>
            </div>
            <span [style.color]="section.boxColor" [style.backgroundColor]="section.boxShadow"
              class="p-1.5 rounded-[50%] text-xs font-medium">{{section.count > 10 ?
              section.count:('0'+section.count)}}</span>
          </div>
          }

        </div>

      </div>
      }
      @if(selectedHeader === 'Email CV'){
      <div class="flex items-center gap-4 ">
        <div class=" md:max-w-[128px] max-w-[92px] max-h-[92px] md:max-h-[128px]">
          <donut-chart [data]="emailDonutData" [labels]="emailLabel"></donut-chart>

        </div>
        <div class="w-full flex flex-col gap-4">
          @for(section of emailCv; track $index){
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <div [style.backgroundColor]="section.boxColor" class=" w-2 h-2 rounded-sm"></div>
              <p class="text-primary-900 font-medium text-xs">{{section.title}}</p>
            </div>
            <span [style.color]="section.boxColor" [style.backgroundColor]="section.boxShadow"
              class="p-1.5 rounded-[50%] text-xs font-medium">{{section.count > 10 ?
              section.count:('0'+section.count)}}</span>
          </div>
          }

        </div>

      </div>
      }
      @if(selectedHeader ==='Download CV'){
      <div class="flex items-center gap-4 ">
        <div class="md:max-w-[128px] max-w-[92px] max-h-[92px] md:max-h-[128px]">
          <donut-chart [data]="downloadCvData" [labels]="downloadLabel"></donut-chart>

        </div>
        <div class="w-full flex flex-col gap-4">
          @for(section of downloadCv; track $index){
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <div [style.backgroundColor]="section.boxColor" class=" w-2 h-2 rounded-sm"></div>
              <p class="text-primary-900 font-medium text-xs">{{section.title}}</p>
            </div>
            <span [style.color]="section.boxColor" [style.backgroundColor]="section.boxShadow"
              class="p-1.5 rounded-[50%] text-xs font-medium">{{section.count > 10 ?
              section.count:('0'+section.count)}}</span>
          </div>
          }

        </div>

      </div>
      }

    </div>

    <div class="flex-1 w-full p-3 md:p-4 border border-[#E4E7EC] rounded-2xl max-h-[220px] ">
      <div class="flex items-center gap-1.5 relative">

        <div class="relative flex flex-col items-center">
          <button class=" text-sm text-primary-700  font-semibold p-2.5 py-1.5">
            Total Your Invitation
          </button>



        </div>

      </div>


      <hr class="mt-1 mb-5">

      <div class="flex items-center gap-4 ">
        <div class=" md:max-w-[128px] max-w-[92px] max-h-[92px] md:max-h-[128px]">
          <donut-chart [data]="invitaionData" [labels]="invitationLabel"></donut-chart>

        </div>
        <div class="w-full flex flex-col gap-1.5">
          @for(section of invitationView; track $index){
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <div [style.backgroundColor]="section.boxColor" class=" w-2 h-2 rounded-sm"></div>
              <p class="text-primary-900 font-medium text-xs">{{section.title}}</p>
            </div>
            <span [style.color]="section.boxColor" [style.backgroundColor]="section.boxShadow"
              class="p-1.5 rounded-[50%] text-xs font-medium">{{section.count > 10 ?
              section.count:('0'+section.count)}}</span>
          </div>
          }

        </div>

      </div>




    </div>
  </div>
  }
  @else {
  <!-- <p>Pro Stat</p> -->
  <div class="mb-4 sm:flex sm:flex-row sm:items-center sm:justify-between flex flex-col sm:gap-0 gap-4">
    <div>
      <half-donut-chart [used]="5" [total]="12" [title]="'Job Application'"
        [subtitle]="'You\'re total job application here.'">
      </half-donut-chart>
    </div>

    <div>
      <half-donut-chart [used]="-3" [total]="12" [title]="'Job Boost'" [subtitle]="'You\'re Boost this job.'">
      </half-donut-chart>
    </div>

    <div>
      <half-donut-chart [used]="5" [total]="24" [title]="'Direct Message'"
        [subtitle]="'You\'re send to message for Employer.'">
      </half-donut-chart>
    </div>

  </div>

  <div class="mb-4 sm:flex sm:flex-row sm:items-center flex flex-col gap-4">
    @for(card of proStatsCards; track $index){
    <div class="flex-1  px-3 py-3.5 rounded-md flex flex-col gap-0.5" [style.borderLeft]="'4px solid '+card.color"
      [style.background]="card.bgColor">
      <div class="flex items-center justify-between">
        <p class="text-primary-700 text-xs font-medium ">{{card.title}}</p>
        <span class="icon-angle-right-n -rotate-45 cursor-pointer" [style.color]="card.color"></span>
      </div>

      <p class="title-design">350</p>
    </div>
    }

  </div>

  <div class="flex flex-col gap-3">
    <p class="sub-title-design">Explore others Features</p>
    <div class="sm:grid sm:grid-cols-3 gap-4 grid grid-cols-1">
      @for(feature of otherFeatures; track $index){
      <div class=" bg-[#FFFDFC] p-4 pl-3 flex items-center gap-6 justify-between border border-[#F2F4F7] rounded-lg">
        <div class="flex items-center gap-3">
          <img [src]="'images/'+feature.iconImage+'.svg'" [alt]="feature.iconImage">
          <p class="text-sm font-medium text-primary-900">{{feature.title}}</p>
        </div>
        <img [src]="'images/open.svg'" class="cursor-pointer">

      </div>
      }

    </div>
  </div>

  }








</div>
