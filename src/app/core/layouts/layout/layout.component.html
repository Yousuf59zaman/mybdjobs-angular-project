<div class="sticky top-0 z-20 w-full">
  <app-nav
    (languageChange)="switchLanguage($event)"
    (hamburgerToggleEmitter)="isSidebarOpen.set($event)"
    [isSidebarOpen]="isSidebarOpen()"
    [profileImagePath]="profileImagePath()"
  ></app-nav>
</div>


@if(layout==='right'){
  <ng-container>
    <main class="">
      <div class="mx-auto max-w-7xl mt-6 ">
        <div class="flex flex-col md:flex-row">
          <div class="basis-2/3 border-b-2 border-[#bdbdbd] md:border-none">
            <router-outlet></router-outlet>
          </div>
          <div class="basis-1/3 md:ps-10">
             <app-right-bar></app-right-bar> 
          </div>
        </div>
      </div>
    </main>
  </ng-container>
}

@if(layout==='left'){
  <ng-container>
    <main class="">
      <div class="mx-auto max-w-full">
        <div
          class="flex flex-col md:flex-row w-full">
          <div class="basis-full md:basis-1/5 grid md:hidden">
            <aside
              class="fixed top-0 left-0 h-[100vh] w-[100vw] bg-white z-[15] transform transition-transform duration-300"
              [class.-translate-x-full]="!isSidebarOpen()"
              [class.translate-x-0]="isSidebarOpen()">
              <app-sidebar (sideBarToggleEmitter)="isSidebarOpen.set($event)"/>
            </aside>
          </div>
          <div
            class="basis-full md:basis-1/5 bg-[#fff] hidden md:grid">
            <app-sidebar/>
            <!-- <app-left-bar></app-left-bar> -->
          </div>
          <div
            class="basis-full md:basis-4/5 bg-[#F9FAFB] p-0 md:p-4 border-b-2 border-[#bdbdbd] md:border-none hidden md:grid">
            <router-outlet></router-outlet>
          </div>
          <div
            class="basis-full md:basis-4/5 bg-[#F9FAFB] p-0 md:p-4 border-b-2 border-[#bdbdbd] md:border-none"
            [hidden]="isSidebarOpen()">
            <router-outlet></router-outlet>
          </div>
        </div>
      </div>
    </main>
    
  </ng-container>
}

<div class="fixed left-0 bottom-0 z-20 w-full max-w-[100vw] px-4 py-1.5 bg-white border-t border-gray-200 grid md:hidden">
  <div class="flex justify-around items-center text-xs text-[#595959]">
    <div class="flex flex-col items-center gap-0.5 text-[#B32D7D]">
      <span class="icon-home text-base"></span>
      <p class="">Home</p>
    </div>
    <div class="flex flex-col items-center gap-0.5">
      <span class="icon-briefcase text-base"></span>
      <p class="">Jobs</p>
    </div>
    <div class="flex flex-col items-center gap-0.5">
      <span class="w-5">
        <img [src]="profileImagePath()" alt="" class="w-full rounded-full object-cover border border-gray-200">
      </span>
      <p class="">MyBdjobs</p>
    </div>
  </div>
</div>

<app-footer></app-footer>

<!-- Below content will be always be rendered for confirmation modal, loader and modal container -->

<app-confirmation-modal [class.hidden]="!isEnableConfirmation()" [isOpen]="isOpen()" (closeModal)="toggleModal($event)"
  (saveAction)="saveChanges($event)">
</app-confirmation-modal>

<div class="fixed inset-0 flex items-center justify-center z-[99999] bg-opacity-5 bg-[#f9f9f9] backdrop-blur-[2px]"
  [class.hidden]="!isLoading()">
  <div class="loader"></div>
</div>

<app-modal-container [componentRef]="selectedComponent()" [attributes]="modalAttributes()" [inputs]="inputs()"
  [isClose]="isClose()" (onClose)="onCloseEvent($event)"></app-modal-container>

<app-toaster></app-toaster>