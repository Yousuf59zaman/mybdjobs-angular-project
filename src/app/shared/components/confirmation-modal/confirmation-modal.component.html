<div
  [ngClass]="{
    hidden: !isOpen,
    'opacity-0': !isOpen,
    'pointer-events-none': !isOpen,
    fixed: true,
    'inset-0': true,
    flex: true,
    'items-center': true,
    'justify-center': true,
    'z-[80]': true,
    'overflow-x-hidden': true,
    'transition-all': true,
    'overflow-y-auto': true
  }"
  class="modal-backdrop bg-gray-900/50 backdrop-blur-sm z-[99999] shadow-xl"
>
  <div
    class="sm:max-w-lg sm:w-full m-3 sm:mx-auto"
    (click)="$event.stopPropagation()"
  >
    @let config = modalConfig$ | async;
    <div
      class="flex flex-col pb-4 bg-white border shadow-sm rounded-xl pointer-events-auto"
    >
      <div class="flex justify-end items-center pt-3 px-4">
        <button
          type="button"
          class="flex justify-center items-center size-7 bg-gray-100 hover:bg-red-200 text-red-500 text-sm font-semibold rounded-full border border-transparent disabled:opacity-50 disabled:pointer-events-none"
          (click)="toggleModal()"
        >
          <span class="sr-only">Close</span>
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
          </svg>
        </button>
      </div>
      <div class="px-4 pb-4 overflow-y-auto flex flex-col gap-2 items-center">
        <h3 class="font-bold text-xl mb-4 text-gray-800">
          {{ config?.content?.title }}
        </h3>
        <p class="mt-1 text-gray-800">
          {{ config?.content?.content }}
        </p>
      </div>
      <div class="flex justify-center items-center gap-x-2 py-3 px-4">
        @if (config?.content?.isCloseButtonVisible) {
          <button
            type="button"
            class="btn-outline-red"
            (click)="toggleModal()"
            [ngClass]="{ hidden: !config?.content?.isCloseButtonVisible }"
            >
            {{ config?.content?.closeButtonText }}
          </button>
        }
        @if (config?.content?.isSaveButtonVisible) {
          <button
            type="button"
            class="btn-success"
            (click)="saveChanges()"
            [ngClass]="{ hidden: !config?.content?.isSaveButtonVisible }"
            >
            {{ config?.content?.saveButtonText }}
          </button>
        }
      </div>
    </div>
  </div>
</div>
